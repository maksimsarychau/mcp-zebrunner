# ══════════════════════════════════════════════════════════════════════════════
# Zebrunner MCP Server - Custom Catalog for Docker MCP Toolkit
# ══════════════════════════════════════════════════════════════════════════════
# This catalog file can be added to Docker MCP Toolkit via:
#   1. Docker Desktop → MCP Toolkit → Settings → Add Custom Catalog
#   2. Point to this file or a URL hosting this file
#
# Alternatively, copy to: ~/.docker/mcp-catalog.yaml
# ══════════════════════════════════════════════════════════════════════════════

registry:
  name: "Zebrunner MCP Catalog"
  description: "Custom catalog for Zebrunner test management MCP servers"

servers:
  zebrunner-mcp:
    # ── Basic Info ──────────────────────────────────────────────────────────────
    name: "Zebrunner MCP"
    description: "Comprehensive test management integration for AI assistants - manage test cases, suites, launches, and analyze test results"
    version: "5.14.0"
    author: "Maksim Sarychau"
    license: "AGPL-3.0"
    
    # ── Links ───────────────────────────────────────────────────────────────────
    repository: "https://github.com/maksimsarychau/mcp-zebrunner"
    documentation: "https://github.com/maksimsarychau/mcp-zebrunner#readme"
    homepage: "https://zebrunner.com"
    
    # ── Container ───────────────────────────────────────────────────────────────
    image: "msarychau/mcp-zebrunner:latest"
    transport: "stdio"
    
    # ── How to run ──────────────────────────────────────────────────────────────
    command:
      - "docker"
      - "run"
      - "--rm"
      - "-i"
      - "--read-only"
      - "--tmpfs=/tmp:size=100M"
      - "-e"
      - "ZEBRUNNER_URL"
      - "-e"
      - "ZEBRUNNER_LOGIN"
      - "-e"
      - "ZEBRUNNER_TOKEN"
      - "-e"
      - "DEBUG"
      - "-e"
      - "EXPERIMENTAL_FEATURES"
      - "-e"
      - "MAX_PAGE_SIZE"
      - "-e"
      - "DEFAULT_PAGE_SIZE"
      - "-e"
      - "ENABLE_RULES_ENGINE"
      - "msarychau/mcp-zebrunner:latest"

    # ── Environment Variables (shown in Docker Desktop UI) ──────────────────────
    env:
      ZEBRUNNER_URL:
        description: "Base URL of your Zebrunner instance"
        required: true
        example: "https://company.zebrunner.com"
        
      ZEBRUNNER_LOGIN:
        description: "Your Zebrunner username or email"
        required: true
        example: "user@example.com"
        
      ZEBRUNNER_TOKEN:
        description: "Personal access token (Settings → API Tokens)"
        required: true
        secret: true
        
      DEBUG:
        description: "Enable verbose debug logging"
        required: false
        default: "false"
        
      EXPERIMENTAL_FEATURES:
        description: "Enable experimental API endpoints"
        required: false
        default: "false"
        
      MAX_PAGE_SIZE:
        description: "Maximum items per API page (1-1000)"
        required: false
        default: "100"
        
      DEFAULT_PAGE_SIZE:
        description: "Default items returned per request"
        required: false
        default: "10"
        
      ENABLE_RULES_ENGINE:
        description: "Enable rules-based test generation"
        required: false
        default: "false"

    # ── Metadata ────────────────────────────────────────────────────────────────
    tags:
      - testing
      - qa
      - test-management
      - zebrunner
      - automation
      - reporting
      - tcm
      
    categories:
      - "Testing & QA"
      - "Developer Tools"
      
    features:
      - "Test Case Management (CRUD, search, bulk actions)"
      - "Test Suite Organization & Hierarchy"
      - "Test Launches & Execution Management"
      - "Reporting & Dashboards"
      - "Video & Screenshot Analysis (AI-powered)"
      - "Automation State Management"
      - "Dynamic Test Generation"
      - "Coverage Analysis"


